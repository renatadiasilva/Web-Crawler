function nativoComplete(){"use strict";jQuery(".zn.zn-staggered").each(function(){$staggeredZone=jQuery(this),layoutSize=$staggeredZone.attr("data-eq-state"),$staggeredZone.find(".zn__containers .column").each(function(){$staggeredColumn=jQuery(this),void 0!==$staggeredColumn.attr("class")&&$staggeredColumn.attr("class").indexOf("ntv")>-1&&($nativeContainer=$staggeredColumn.find(".cn").addClass("nativeSponsor").clone(),$staggeredColumn.remove(),$staggeredNativo=$staggeredZone.find(".column"),$staggeredNativo="xsmall"===layoutSize?$staggeredNativo.eq(0).find(".cn").eq(1):$staggeredNativo.eq(1).find(".cn").eq(0),$staggeredNativo.before($nativeContainer))})}),jQuery(".pg-wrapper").find("section.nativeSponsor").addClass("zn-loaded"),jQuery(window).load(function(){$nativeHubCarousel=jQuery(document.getElementById("ntv-videoZone")).find(".js-owl-carousel"),$nativeHubCarousel.length>0&&!isGalleryRendered&&(CNN.Carousel.restore($nativeHubCarousel.parent()),isGalleryRendered=!0)})}function onNativoRenderAd(e){"use strict";nativo.fbFeed=e.facebook_feed,nativo.twFeed=e.twitter_feed,nativo.twitterImage=e.twitter_image,nativo.authorName=e.author_name,nativo.epicAdName=e.native_adv,$nativeEmbedVideo=jQuery(document.getElementById("prx_full_ad_video")),$nativeEmbedVideo.length>0&&$nativeEmbedVideo.parent().addClass("ntv_video_p"),$bigPicture=jQuery(document.getElementById("bigPicture")),$bigPicture.length>0&&!isGalleryRendered&&(nativo.renderGallery(),isGalleryRendered=!0),jQuery(window).load(function(){nativo.renderAuthor(),nativo.renderFacebook(),nativo.renderTwitter(),nativo.renderEpic()})}function changeOwlCarousalWidth(){"use strict";var e=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage"),t=e.find(".owl-item").length;e.css("width",70*t)}var CNN=window.CNN||{};!function(e,t,a,n){"use strict";function i(e){return e!==n&&"function"==typeof e}function l(t){e(a).onZonesAndDomReady(function(){var e=a.createElement("script"),n=a.getElementsByTagName("script")[0];e.src=r.scriptTag.src,e.id=s,i(t)&&(e.onload=e.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),e.onload=e.onreadystatechange=null)}),n.parentNode.insertBefore(e,n)})}function o(e,a){if(0===e.jPlayer.status.currentTime&&("object"!=typeof CNN.Features||CNN.Features.enableOmniture!==!1))try{t.trackMetrics({type:"cnnaudio-start",data:{adobe_hash_id:a.adobe_hash_id,auth_state:a.auth_state,id:a.id,title:a.title,mvpd:a.mvpd}})}catch(n){}}function d(t){var n=e(a.getElementById(t));n.jPlayer({ready:function(){n.jPlayer("setMedia",{mp3:n.data("file")}).bind(e.jPlayer.event.play,function(e){o(e,{adobe_hash_id:"",auth_state:"does not require authentication",id:"",title:n.data("title"),mvpd:""})})},supplied:"mp3",swfPath:"/assets/",volume:1,wmode:"window",solution:"html, flash",errorAlerts:!1,warningAlerts:!1})}if("function"!=typeof t.CNN.AudioPlayer){var r={scriptTag:{src:"http://edition.i.cdn.cnn.com/.a/1.149.0/js/vendor/jquery.jplayer.min.js"}},s="jquery-jplayer";CNN.AudioPlayer=function(e){null===a.getElementById(s)?l(e):i(e)&&e()},CNN.AudioPlayer.init=function(e){CNN.AudioPlayer(function(){d(e)})}}}(jQuery,window,document),jQuery(document).onZonesAndDomReady(function(){"use strict";function e(e,t,a){jQuery(e).off(t).on(t,a)}function t(){g.CurrentWidth.getClientWidth()>g.minWidthForExpandElements?(e(".js__image--expandable","click",function(){var e=jQuery(this),t=e.find(".el__image__expand--expandable");t.siblings().first().slideDown(m),e.stop().animate({width:"100%"},m,function(){g.ResponsiveImages.processChildrenImages(this)}).show().addClass("el__image--expandfull").removeClass("el__image--expandable"),t.slideUp(m)}),e(".js__image__close--expandable","click",function(e){var t=jQuery(this);t.siblings().last().slideDown(m),t.parent().stop().animate({width:y},m,function(){g.ResponsiveImages.processChildrenImages(this)}).show().addClass("el__image--expandable").removeClass("el__image--expandfull"),t.slideUp(m),e.stopPropagation()}),jQuery(".el__image--expandfull .el__image__close--expandable").show(),jQuery(".el__image--expandable .el__image__expand--expandable").show()):(jQuery(".el__image__close--expandable").hide(),jQuery(".el__image__expand--expandable").hide(),jQuery(".js__image--expandable").off())}function a(e,t){var a=t.parent(),n=t.siblings();"undefined"==typeof h&&(h=a.width()),a.stop().animate({width:"100%"},m,function(){n.eq(2).find(".el__video__play-button").triggerHandler("click")}),a.show().addClass("el__video--expandfull").removeClass(e),n.eq(2).children().eq(1).show(),n.eq(2).children().eq(0).hide(),t.hide(),g.CurrentWidth.getClientWidth()>g.minWidthForExpandElements?(n.first().show(),n.first().css("display","block")):(n.first().hide(),n.first().css("display","none"))}function n(e,t,a){var n,i=".js-media__video .js-video__end-slate",l=t.parent(),o=t.siblings();o.last().show(),l.stop().animate({width:h},m,function(){l.removeAttr("style")}),l.show().addClass(e).removeClass("el__video--expandfull"),o.eq(1).children().eq(1).hide(),o.eq(1).children().eq(0).show(),o.eq(1).children().eq(0).css("position","relative"),t.hide(),n=t.parent().find(i).eq(0),n.removeClass("video__end-slate--active").addClass("video__end-slate--inactive"),l.find(".js-video-demand").show(),a.stopPropagation()}function i(){g.CurrentWidth.getClientWidth()>g.minWidthForExpandElements?(e(".js__video--standard","click",function(){a("el__video--standard",jQuery(this).find(".el__video__expand--standard"))}),e(".js__video--expandable","click",function(){a("el__video--expandable",jQuery(this).find(".el__video__expand--expandable"))}),e(".js__video__close--standard","click",function(e){n("el__video--standard",jQuery(this),e)}),e(".js__video__close--expandable","click",function(e){n("el__video--expandable",jQuery(this),e)}),jQuery(".el__video--expandfull .el__video__close--standard").show(),jQuery(".el__video--expandfull .el__video__close--expandable").show(),jQuery(".el__video--standard .el__video__expand--standard").show(),jQuery(".el__video--expandable .el__video__expand--expandable").show(),jQuery(".el__video--standard .el__video__play-button").hide(),jQuery(".el__video--standard .el__video__play-button-wrapper").hide()):(jQuery(".el__video__close--standard").hide(),jQuery(".el__video__close--expandable").hide(),jQuery(".el__video__expand--standard").hide(),jQuery(".el__video__expand--expandable").hide(),jQuery(".el__video__play-button-wrapper").show(),jQuery(".el__video--standard .el__video__play-button").hide(),jQuery(".el__video--expandable .el__video__play-button").hide(),jQuery(".js-video-demand").hide(),g.orientationLandscape===!0&&jQuery(".js-video-demand").show()),C===!1&&g.orientationLandscape===!0&&(jQuery(".js__video--standard").each(function(){var e=jQuery(this);0===e.find(".js-el__video__play-button").size()?(e.find(".js-video-demand").hide(),g.orientationLandscape===!0&&a("el__video--standard",e.find(".el__video__expand--standard"))):e.find(".js-video-demand").show()}),jQuery(".js__video--expandable").each(function(){var e=jQuery(this);0===e.find(".js-el__video__play-button").size()?(e.find(".js-video-demand").hide(),g.orientationLandscape===!0&&a("el__video--expandable",e.find(".el__video__expand--expandable"))):e.find(".js-video-demand").show()})),C=!1}function l(e,t,a){if("undefined"==typeof p&&(p=t.parent().width()),g.CurrentWidth.getClientWidth()>g.minWidthForExpandElements){var n,i=t.siblings(),l=i.eq(1),o=i.eq(2),d=o.find(".js-owl-carousel");i.first().show(),i.find(".media__icon").hide("slow"),t.parent().stop().animate({width:"100%"},m,function(){l.attr("style","display: none;"),o.attr("style","display: block;"),o.find(".js-owl-carousel").trigger(g.Carousel.events.refresh),n=9*d.find(".owl-item").find(".el__resize, .media").width()/16/2-v,d.find(".owl-prev, .owl-next").css("top",n+"px"),d.siblings(".ad-slide").find(".ad-slide__prev, .ad-slide__next").css("top",n+"px")}),t.parent().show().addClass("el__gallery--expandfull").removeClass(e),t.hide(),("undefined"==typeof o.attr("isExtended")||"false"===o.attr("isExtended"))&&(setTimeout(function(){_(jQuery(o.find(".owl-wrapper-outer")),!0,!0)},2e3),o.attr("isExtended","true"))}else a.stopPropagation()}function o(e,t,a){var n=t.siblings(),i=n.eq(0),l=n.eq(1),o=l.find(".owl-wrapper-outer"),d=o.find(".el__gallery_image-title"),r=o.find(".el__gallery-caption");i.show(),t.parent().stop().animate({width:p},m,function(){t.parent().show().addClass(e).removeClass("el__gallery--expandfull"),t.parent().removeAttr("style")}),n.last().show(),n.find(".media__icon").show(),t.hide(),l.css("display","none"),l.attr("isExtended","false"),r.hasClass("el__gallery-caption--closed")&&(r.toggleClass("el__gallery-caption--closed"),d.toggle("slow"),r.text(r.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption")),a.stopPropagation()}function d(){g.CurrentWidth.getClientWidth()>g.minWidthForExpandElements?(e(".js__gallery--standard","click",function(e){l("el__gallery--standard",jQuery(this).find(".el__gallery__expand--standard"),e)}),e(".js__gallery--expandable","click",function(e){l("el__gallery--expandable",jQuery(this).find(".el__gallery__expand--expandable"),e)}),e(".js__gallery__close--standard","click",function(e){o("el__gallery--standard",jQuery(this),e)}),e(".js__gallery__close--expandable","click",function(e){o("el__gallery--expandable",jQuery(this),e)}),jQuery(".el__gallery--expandfull .el__gallery__close--standard").show(),jQuery(".el__gallery--expandfull .el__gallery__close--expandable").show(),jQuery(".el__gallery--standard .el__gallery__expand--standard").show(),jQuery(".el__gallery--expandable .el__gallery__expand--expandable").show(),jQuery(".el__gallery--standard .el-carousel__wrapper").hide(),jQuery(".el__gallery--expandable .el-carousel__wrapper").hide(),jQuery(".el__gallery--standard .el__gallery--teaseimage").show(),jQuery(".el__gallery--expandable .el__gallery--teaseimage").show()):(jQuery(".el-carousel__wrapper").show(),jQuery(".el__gallery--teaseimage").hide(),jQuery(".el__gallery__close--standard").hide(),jQuery(".el__gallery__close--expandable").hide(),jQuery(".el__gallery__expand--standard").hide(),jQuery(".el__gallery__expand--expandable").hide()),f===!1&&g.CurrentWidth.getClientWidth()<=g.showGalleryCaptionWidth&&r()}function r(){jQuery(".js__leafmedia--gallery").each(function(e,t){jQuery(".el__gallery_image-title",t).hide(),jQuery(".el__gallery-caption",t).addClass("el__gallery-caption--closed").text("Show Caption")})}function s(e){var t=jQuery(e),a=t.closest(".owl-stage"),n=a.find(".el__gallery_image-title"),i=a.find(".el__gallery-caption");g.CurrentWidth.getClientWidth()>g.minWidthForExpandElements?i.hasClass("el__gallery-caption--closed")?(i.removeClass("el__gallery-caption--closed"),n.show()):(i.addClass("el__gallery-caption--closed"),n.hide()):(i.toggleClass("el__gallery-caption--closed"),n.toggle()),g.Carousel.refreshCarousels(),i.text(i.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption")}function _(e,t,a){var n=0,i=0,l=jQuery(".owl-item",e).each(function(){i=jQuery(this).height(),t&&jQuery(this).attr("owlItemHeight",i),i>n&&(n=i)});t&&jQuery(e).attr("max",n),l.each(function(){var n=jQuery(this),i=jQuery(".el__gallery-showhide",n);t||a?i.css("bottom",n.attr("owlItemHeight")-jQuery(e).attr("max")+"px"):i.css("bottom","0px")})}function u(e){if(e){var t,a;for(t=0,a=e.length;a>t;t++)_(e[t],!0,!0)}}function c(){t(),i(),d()}var p,h,g=window.CNN||{},y=jQuery(".js__image--expandable").width(),f=!1,m=700,v=30,j=window.CNN.VideoPlayer.isMobileClient(),w=jQuery(window),C=!0;g.CurrentWidth=g.CurrentWidth||{},g.CurrentWidth.getClientWidth=g.CurrentWidth.getClientWidth||jQuery.noop,g.minWidthForExpandElements=480,g.showGalleryCaptionWidth=640,g.orientationLandscape=!1,c(),j||jQuery(window).resize(function(){f=!0,c(),setTimeout(function(){u(jQuery(".owl-wrapper-outer"))},2e3)}),j&&w.on("orientationchange",function(){g.orientationLandscape=w.innerHeight/w.innerWidth>1?!1:!0,c(),g.Carousel.resetOnResize()}),jQuery(".js__image--expandable").on("touchstart",function(){jQuery(this).children().last().addClass("el__image--touchhover")}).on("touchcancel touchend",function(){jQuery(this).children().last().removeClass("el__image--touchhover")}),jQuery(".js__video--standard, .js__video--expandable").on("touchstart",function(){jQuery(this).addClass("el__video--touchhover")}).on("touchcancel touchend",function(){jQuery(this).removeClass("el__video--touchhover")}),jQuery(".js__gallery--standard, .js__gallery--expandable").on("touchstart",function(){jQuery(this).addClass("el__gallery--touchhover")}).on("touchcancel touchend",function(){jQuery(this).removeClass("el__gallery--touchhover")}),jQuery(".js-el__gallery-caption").on("click",function(){s(this)})});var nativo={},$staggeredZone,$staggeredColumn,$nativeContainer,layoutSize,$staggeredNativo,$authorDetails,$twitterImage,$nativeEmbedVideo,$bigPicture,isGalleryRendered=!1,epicScript,$nativeHubCarousel,isEpicRendered=!1;!function(){"use strict";function e(e,t){var a=jQuery(e).closest(document.getElementById("bigPicture")),n=a.find(".media__caption"),i=a.find(".el__gallery-caption");CNN.CurrentWidth=CNN.CurrentWidth||{},CNN.CurrentWidth.getClientWidth=CNN.CurrentWidth.getClientWidth||jQuery.noop,CNN.CurrentWidth.getClientWidth()>CNN.minWidthForExpandElements?i.hasClass("el__gallery-caption--closed")?i.removeClass("el__gallery-caption--closed"):i.addClass("el__gallery-caption--closed"):i.toggleClass("el__gallery-caption--closed"),n.toggle(t),i.text(i.hasClass("el__gallery-caption--closed")?"Show Caption":"Hide Caption")}function t(e){var t=jQuery(".js-pg-sponsor .owl-stage-outer .owl-stage .owl-item.synced"),n=t.next(),i=t.prev();"prev"===e?"undefined"!=typeof i&&i.length>0&&a(i):"undefined"!=typeof n&&n.length>0&&a(n)}function a(e){var t=jQuery(".js-pg-sponsor"),a=t.find(".cnngo-bigPicture"),n=a.find("img"),i=e.find(".link").attr("data-img-full");n.attr("src",i),e.parent().find(".owl-item").removeClass("synced"),e.addClass("synced"),a.find(".js-active-count").html(e.closest(".owl-item").index()+1),a.find(".image__caption").html(e.find(".link").attr("data-value"))}nativo={fbFeed:"",twFeed:"",social_hub:{icons:{twitter:"",facebook:"",linkedin:"",google:"",pinterest:"",instagram:""},fb_like:"",tw_follow:""}},nativo.renderAuthor=function(){"string"==typeof nativo.authorName&&nativo.authorName.length>0&&($authorDetails=jQuery(".js-sponsor-article-author"),$authorDetails.find(".js-author_name").text(nativo.authorName+","),$authorDetails.show())},nativo.renderEpic=function(){var e="international"===CNN.contentModel.edition?"cnni":"cnn";"string"==typeof nativo.epicAdName&&nativo.epicAdName.length>0&&!isEpicRendered&&(window.AMPTManager.processNewRegistry(CNN.epicAdRegistry+"/"+e+"_native_"+nativo.epicAdName+".js"),jQuery(".js-epicAd_Render").show(),isEpicRendered=!0)},nativo.renderFacebook=function(){if("string"==typeof nativo.fbFeed&&nativo.fbFeed.length>0){var e=encodeURIComponent(nativo.fbFeed),t=document.getElementById("fb-likebox");t.innerHTML='<iframe src="//www.facebook.com/plugins/likebox.php?href='+e+'&amp;width=300&amp;height=590&amp;show_faces=true&amp;colorscheme=light&amp;stream=true&amp;show_border=true&amp;header=true&amp;appId=70673860847" scrolling="no" frameborder="0" class="sponsor-content-fb" allowTransparency="true"></iframe>'}},nativo.renderTwitter=function(){"string"==typeof nativo.twFeed&&nativo.twFeed.length>0&&(jQuery(document.getElementById("tw-feedbox")).html(nativo.twFeed),jQuery(".js-right-rail-tw").show());var e,t=document.getElementsByTagName("script")[0];document.getElementById("twitter-wjs")||(e=document.createElement("script"),e.id="twitter-wjs",e.src="//platform.twitter.com/widgets.js",t.parentNode.insertBefore(e,t)),"string"==typeof nativo.twitterImage&&nativo.twitterImage.length>0&&($twitterImage=jQuery(".js-twitterImage"),$twitterImage.find("img").attr("src",nativo.twitterImage),$twitterImage.show())},nativo.renderGallery=function(){setTimeout(function(){jQuery(".js-pg-sponsor .owl-carousel").owlCarousel({slideSpeed:300,pagination:!0,paginationSpeed:400,items:9,nav:!0,navText:["",""],dots:!1,lazyLoad:!0,loop:!1,autoWidth:!0,autoHeight:!1});var a=jQuery(".js-pg-sponsor"),n=a.find(".cnngo-bigPicture"),i=n.find("img"),l=a.find(".owl-carousel").find(".link"),o=l.first().attr("data-img-full"),d=l.first().attr("data-value"),r=n.attr("data-title"),s=a.find(".owl-stage-outer .owl-stage"),_=s.find(".owl-item").length,u=1;0===n.find("img").length&&n.append("<img/>"),i.attr("src",o),n.append(a.find(".js-galleryCaption")),n.append(a.find(".js-owl-nav")),_>=1&&(n.find(".js-active-count").html(u),n.find(".js-total-count").html(_),n.find(".js-gallery-title").html(r),n.find(".el__storyelement__gray").html(" "+_+" Photos"),s.find(".owl-item").first().addClass("synced"),n.find(".image__caption").html(d)),l.on("click",function(){var e=jQuery(this);i.attr("src",e.data("imgFull")),e.parent().parent().find(".owl-item").removeClass("synced"),e.parent().addClass("synced"),n.find(".js-active-count").html(e.closest(".owl-item").index()+1),n.find(".image__caption").html(e.attr("data-value"))}),n.find(".js-el__gallery-caption").click(function(){e(this,"slow")}),n.find(".js-owl-prev").click(function(){t("prev")}),n.find(".js-owl-next").click(function(){t("next")}),changeOwlCarousalWidth()},800)},jQuery(window).resize(function(){setTimeout(function(){changeOwlCarousalWidth()},300)})}();
//# sourceMappingURL=cnn-header-lib.min.js.map